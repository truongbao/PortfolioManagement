<?xml version = "1.0" encoding = "UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="CatXML">

    <!--  - parametertype là tên lớp hoặc alias của tham số mà được truyền vào trong câu lệnh -->
    <insert id="insertCat" parameterType="Cat" >
        INSERT INTO DANHMUCTIN ( TENDANHMUCTIN ) VALUES ( #{tendanhmuctin});
    </insert>

    <update id="updateCat" parameterType="Cat">
        UPDATE DANHMUCTIN SET TENDANHMUCTIN = #{tendanhmuctin} WHERE ID_DANHMUCTIN = #{id_danhmuctin};
    </update>
    
    <delete id="deleteCatById" parameterType="int">
        DELETE from DANHMUCTIN WHERE ID_DANHMUCTIN = #{id_danhmuctin}; 
    </delete>
    
    <select id="selectAllCat" resultMap="result">
           SELECT * FROM DANHMUCTIN ORDER BY ID_DANHMUCTIN DESC;  
    </select>
    
     <select id="selectAllCatByName" parameterType="Cat" resultType="Cat">
           SELECT * FROM DANHMUCTIN WHERE  TENDANHMUCTIN LIKE 'T%' ; 
      </select>
    
    <select id="selectCatById" parameterType="int" resultType="Cat">
        SELECT * FROM DANHMUCTIN WHERE ID_DANHMUCTIN = #{id_danhmuctin};
    </select>
    
    
    <!-- 
       +Thẻ resultMap được sử dụng để ánh xạ tên cột trong tập dữ liệu trả về 
        từ câu lệnh SELECT với tên trường của đối tượng Java (Beans/POJO).
        -không phân biệt chữ hoa, chữ thường
     -->
    <resultMap id = "result" type = "Cat">
       <result property = "id_danhmuctin" column = "ID_DANHMUCTIN"/>
       <result property = "tendanhmuctin" column = "TENDANHMUCTIN"/>
    </resultMap>
    
    
</mapper>